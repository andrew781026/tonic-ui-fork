---
import type {Props} from '@astrojs/starlight/props';
import Default from '@astrojs/starlight/components/TwoColumnContent.astro';
---

<!-- TwoColumnContent -->
<div class="lg:sl-flex two-column-content">
  {
    Astro.props.toc && (
      <aside class="right-sidebar-container">
        <div class="right-sidebar">
          <slot name="right-sidebar"/>
        </div>
      </aside>
    )
  }
  <div class="main-pane">
    <slot/>
  </div>
</div>

<style>
  .two-column-content {
    border-radius: 16px;
    background-color: white;
    margin-right: 24px;
  }

  .main-pane {
    isolation: isolate;
    /*width: calc(var(--sl-content-width) + (100% - var(--sl-content-width) - var(--sl-sidebar-width)) / 2);*/
    /*overflow: hidden;*/
  }

  @media (min-width: 72rem) {
    .right-sidebar-container {
      order: 2;
      position: relative;
      width: calc(
        var(--sl-sidebar-width) + (100% - var(--sl-content-width) - var(--sl-sidebar-width)) / 2
      );
    }

    .right-sidebar {
      position: fixed;
      top: 0;
      /*border-inline-start: 1px solid var(--sl-color-gray-6);*/
      margin-top: calc(var(--sl-text-h1) + var(--sl-content-pad-x) * 2 - 20px);
      padding-top: var(--sl-nav-height);
      width: 100%;
      height: 100vh;
      overflow-y: auto;
      scrollbar-width: none;
    }

    .main-pane {
      width: 100%;
    }

    :global([data-has-sidebar][data-has-toc]) .main-pane {
      --sl-content-margin-inline: auto 0;

      order: 1;
      width: calc(
        var(--sl-content-width) + (100% - var(--sl-content-width) - var(--sl-sidebar-width)) / 2
      );
    }
  }
</style>
